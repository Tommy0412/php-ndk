--- a/ext/standard/dns.c
+++ b/ext/standard/dns.c
@@ -0,0 +1,12 @@
+#ifdef __ANDROID__
+// Android stub for DNS functions
+typedef void* dns_handle_t;
+
+static inline dns_handle_t dns_open(const char *nameserver) {
+    (void)nameserver;
+    return NULL;
+}
+
+static inline void dns_free(dns_handle_t handle) {
+    (void)handle;
+}
+
+static inline int dns_search(dns_handle_t handle, const char *dname, int class, int type, unsigned char *answer, int anslen) {
+    (void)handle; (void)dname; (void)class; (void)type; (void)answer; (void)anslen;
+    return -1;
+}
+#endif
